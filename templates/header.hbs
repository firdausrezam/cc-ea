{{!-- <a class="skip-navigation" tabindex="1" href="#main-content">
	{{t "skip_navigation"}}
</a> --}}

<header class="w-full bg-gray-200">
	<nav class="navbar w-full md:max-w-7xl mx-auto py-4">
		<div class="navbar-start w-max">
			{{#link "help_center"}}
				<img src="{{settings.logo}}" alt="Logo" class="w-[150px]" />
			{{/link}}
		</div>
		<div class="navbar-end flex-1">
			<div class="flex items-stretch">
				<div
					tabindex="0"
					role="button"
					id="mobile-dropdown-button"
					class="btn btn-ghost md:hidden ms-auto"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						class="h-5 w-5"
						fill="none"
						viewBox="0 0 24 24"
						stroke="currentColor"
					><path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M4 6h16M4 12h8m-8 6h16"
						/></svg>
				</div>
			</div>
			<label
				class="input input-bordered hidden md:flex items-center gap-2 bg-white"
			>
				{{search
					instant=true
					submit=false
					class="min-w-[250px] sm:w-[350px] border-none focus:outline-none"
				}}
				{{! <input type="text" class="grow" placeholder="Search" /> }}
				<svg
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 16 16"
					fill="currentColor"
					class="w-4 h-4 opacity-70"
				>
					<path
						fill-rule="evenodd"
						d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"
						clip-rule="evenodd"
					/>
				</svg>
			</label>

			{{#unless signed_in}}
				{{#link "sign_in" class=""}}
					{{t "sign_in"}}
				{{/link}}
			{{/unless}}

			{{#if signed_in}}
				<div
					class="hidden md:inline-block dropdown dropdown-bottom dropdown-end ml-4"
				>
					<div
						tabindex="0"
						role="button"
						class="btn btn-link items-center no-underline hover:no-underline text-black m-1"
					>
						<div class="avatar">
							<div class="w-8 rounded-full">
								{{user_avatar}}
							</div>
						</div>
						{{user_name}}
						<i class="ph ph-caret-down text-lg text-black"></i>
					</div>
					<ul
						tabindex="0"
						class="dropdown-content z-[1] menu p-2 shadow bg-white rounded-lg w-52"
					>
						<li class="hover:bg-gray-200 rounded-lg">
							<a href="{{page_path 'new_request'}}">
								Submit a ticket
							</a>
						</li>
						{{#if signed_in}}
							<li class="hover:bg-gray-200 rounded-lg">
								<a href="{{page_path 'sign_out'}}">
									Sign out
								</a>
							</li>
						{{/if}}
					</ul>
				</div>
			{{/if}}
		</div>
	</nav>
	<div id="mobile-dropdown" class="w-full p-4 hidden flex-col gap-4 bg-white">
		<label
			class="input input-bordered border-base-200 w-full flex items-center gap-2 bg-white"
		>
			{{search instant=true submit=false class="flex-1"}}
			{{! <input type="text" class="grow" placeholder="Search" /> }}
			<svg
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 16 16"
				fill="currentColor"
				class="w-4 h-4 opacity-70"
			>
				<path
					fill-rule="evenodd"
					d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"
					clip-rule="evenodd"
				/>
			</svg>
		</label>

		{{#unless signed_in}}
			{{#link "sign_in" class=""}}
				{{t "sign_in"}}
			{{/link}}
		{{/unless}}

		{{#if signed_in}}
			<div class="join join-vertical w-full">
				<div class="collapse collapse-arrow join-item rounded-none">
					<input type="checkbox" name="my-accordion-4" />
					<div
						class="collapse-title flex items-center text-md font-medium px-0"
					>
						<div class="avatar me-2">
							<div class="w-8 rounded-full">
								{{user_avatar}}
							</div>
						</div>
						{{user_name}}
					</div>
					<div class="collapse-content">
						<div class="flex flex-col w-full gap-2">
							<a
								href="{{page_path 'new_request'}}"
								class="hover:underline underline-offset-1 py-2"
							>
								Submit a ticket
							</a>
							{{#if signed_in}}
								<a href="{{page_path 'sign_out'}}">
									Sign out
								</a>
							{{/if}}
						</div>
					</div>
				</div>
			</div>
		{{/if}}
	</div>
</header>